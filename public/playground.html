<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Try StudyHive's AI-powered study tools. Generate summaries, flashcards, and podcasts from your notes. No signup required."
    />
    <link rel="icon" href="assets/icons/hexagon.svg" />
    <title>Playground - STUDYHIVE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&family=Inter:wght@400;600&family=JetBrains+Mono&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/playground.css" />
  </head>
  <body>
    <header>
      <nav>
        <a href="index.html" class="logo"
          ><img
            src="assets/icons/hexagon.svg"
            alt=""
            style="
              width: 24px;
              height: 24px;
              vertical-align: middle;
              margin-right: 8px;
              margin-bottom: 8px;
            "
          />STUDYHIVE</a
        >
        <ul class="nav-links">
          <li><a href="index.html#features">Features</a></li>
          <li><a href="index.html#pricing">Pricing</a></li>
          <li><a href="playground.html">Playground</a></li>
          <li><a href="#" id="accountLink">Account</a></li>
        </ul>
      </nav>
    </header>

    <section class="hero">
      <h1>FEATURE PLAYGROUND</h1>
      <p class="subtitle">
        Try StudyHive's AI-powered tools. No signup required.
      </p>
    </section>

    <nav class="tab-nav">
      <button class="tab-btn active" data-tab="summary">AI Summaries</button>
      <button class="tab-btn" data-tab="flashcards">Flashcards</button>
      <button class="tab-btn" data-tab="podcast">Tutoring Podcasts</button>
    </nav>

    <!-- AI SUMMARY TAB -->
    <div class="tab-content active" id="summary">
      <div class="summary-container">
        <div class="summary-header-section">
          <img src="assets/icons/notes.svg" alt="" class="section-icon" />
          <h3>AI-Generated Summary</h3>
          <p>Convert your notes into a concise, structured summary</p>
        </div>

        <div class="demo-controls">
          <label for="subject">Select Subject:</label>
          <select id="subject">
            <option value="cs101">CS 101 - Algorithms</option>
            <option value="history">History 202 - Civil War</option>
            <option value="biology">Biology 301 - Cell Biology</option>
            <option value="math">Math 250 - Calculus II</option>
            <option value="english">English 201 - Shakespeare</option>
          </select>

          <label for="notes">Your Notes:</label>
          <textarea
            id="notes"
            placeholder="Paste your class notes here..."
            readonly
          ></textarea>

          <button class="btn btn-primary" id="generateBtn">
            Generate Summary
          </button>
        </div>

        <div class="loading" id="loading">
          <div class="hexagon-spinner">
            <img
              src="assets/icons/hexagon.svg"
              alt=""
              style="width: 24px; height: 24px"
            />
          </div>
          <div>Processing...</div>
        </div>

        <div class="summary-output" id="summaryOutput">
          <div class="summary-text" id="summaryText"></div>

          <div class="rating-section">
            <button class="rating-btn" id="thumbsUp">
              <span id="helpfulCount">0</span> Helpful
            </button>
            <button class="rating-btn" id="thumbsDown">
              <span id="notHelpfulCount">0</span> Not Helpful
            </button>
            <button class="rating-btn" id="share">
              <span id="shareCount">0</span> Share
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- FLASHCARDS TAB -->
    <div class="tab-content" id="flashcards">
      <div class="flashcard-container">
        <div class="flashcard-header-section">
          <img src="assets/icons/flashCard.svg" alt="" class="section-icon" />
          <h3>AI-Generated Flashcards</h3>
          <p>Convert your notes into interactive study flashcards</p>
        </div>

        <div class="flashcard-controls">
          <button class="btn btn-primary" id="makeCardsBtn">
            Generate Flashcards from Notes
          </button>
        </div>

        <div id="flashcardLoading" class="loading">
          <div class="hexagon-spinner">
            <img
              src="assets/icons/hexagon.svg"
              alt=""
              style="width: 24px; height: 24px"
            />
          </div>
          <div>Generating flashcards...</div>
        </div>

        <div id="flashcardOutput" class="flashcard-output">
          <div class="flashcard-wrapper flashcard-wrapper-inner">
            <div class="flashcard" id="flashcard">
              <div class="flashcard-face flashcard-front">
                <div class="card-label">QUESTION</div>
                <div id="cardQuestion">
                  Click "Generate Flashcards" to start
                </div>
                <div class="card-corner">
                  <img
                    src="assets/icons/hexagon.svg"
                    alt=""
                    style="width: 12px; height: 12px"
                  />
                </div>
              </div>
              <div class="flashcard-face flashcard-back">
                <div class="card-label">ANSWER</div>
                <div id="cardAnswer"></div>
                <div class="card-corner">
                  <img
                    src="assets/icons/hexagon.svg"
                    alt=""
                    style="width: 12px; height: 12px"
                  />
                </div>
              </div>
            </div>
          </div>

          <div class="flashcard-nav">
            <button class="card-nav-btn" id="prevCard">← Previous</button>
            <span id="cardCounter" class="card-counter">1 / 5</span>
            <button class="card-nav-btn" id="nextCard">Next →</button>
          </div>

          <p class="card-hint">Click the card to flip it!</p>
        </div>

        <div class="flashcard-info">
          <h4>How it works:</h4>
          <ol>
            <li>1) Enter your notes in the AI Summaries tab</li>
            <li>2) Click "Generate Flashcards" to create Q&A pairs</li>
            <li>3) Click cards to flip between question and answer</li>
            <li>4) Use arrows to navigate through your deck</li>
          </ol>
        </div>
      </div>
    </div>

    <!-- PODCAST TAB -->
    <div class="tab-content" id="podcast">
      <div class="podcast-container">
        <div class="podcast-header-section">
          <img src="assets/icons/microphone.svg" alt="" class="section-icon" />
          <h3>AI-Generated Study Podcast</h3>
          <p>Convert your AI summary into a natural-sounding audio podcast</p>
        </div>

        <div class="podcast-controls">
          <label for="voiceSelect"
            >Select Voice (Highest Quality Studio):</label
          >
          <select id="voiceSelect" class="voice-select">
            <optgroup label="Studio Quality (Best)">
              <option value="en-US-Studio-O" selected>
                Studio O - Conversational, Warm (Female)
              </option>
              <option value="en-US-Studio-Q">
                Studio Q - Clear, Professional (Male)
              </option>
            </optgroup>
            <optgroup label="Journey Quality">
              <option value="en-US-Journey-F">
                Journey F - Natural, Expressive (Female)
              </option>
              <option value="en-US-Journey-D">
                Journey D - Confident, Dynamic (Male)
              </option>
              <option value="en-US-Journey-O">
                Journey O - Smooth, Articulate (Male)
              </option>
            </optgroup>
            <optgroup label="Neural2 (Fallback)">
              <option value="en-US-Neural2-C">Neural2 C - Warm (Female)</option>
              <option value="en-US-Neural2-D">
                Neural2 D - Professional (Male)
              </option>
            </optgroup>
          </select>

          <button
            class="action-btn podcast-generate-btn"
            id="generatePodcastBtn"
          >
            Generate Podcast
          </button>
        </div>

        <div class="podcast-player" id="podcastPlayer">
          <h4>Your Podcast is Ready!</h4>
          <audio controls id="audioPlayer" class="audio-player">
            <source id="audioSource" type="audio/mpeg" />
            Your browser does not support audio playback.
          </audio>
          <a
            href="#"
            id="downloadPodcast"
            download
            class="action-btn download-btn"
          >
            Download MP3
          </a>
        </div>

        <div class="podcast-info">
          <h4>How it works:</h4>
          <ul>
            <li>1) First, generate an AI summary from your notes</li>
            <li>2) Then click "Generate Podcast" to convert it to audio</li>
            <li>3) Listen while commuting, exercising, or studying</li>
            <li>4) Download the MP3 for offline listening</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>

    <!-- Paywall Modal -->
    <div
      id="paywallModal"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        align-items: center;
        justify-content: center;
      "
    >
      <div
        style="
          background: var(--black);
          color: var(--white);
          max-width: 500px;
          padding: 2.5rem;
          border: 4px solid var(--honey);
          text-align: center;
        "
      >
        <h2
          style="
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            color: var(--honey);
          "
        >
          Premium Feature
        </h2>
        <p style="margin-bottom: 2rem; font-size: 1.1rem">
          Customize notes and topics with a Plus or Premium account
        </p>
        <div style="display: flex; gap: 1rem; justify-content: center">
          <button id="upgradeBtn" class="btn" style="padding: 1rem 2rem">
            Upgrade Now
          </button>
          <button
            id="closePaywallBtn"
            class="btn btn-secondary"
            style="padding: 1rem 2rem"
          >
            Close
          </button>
        </div>
      </div>
    </div>

    <footer>
      <p>
        © 2025 STUDYHIVE | Built by students, for students | NJIT IT310 Capstone
        Project
      </p>
      <p style="margin-top: 1rem; font-size: 0.8rem">
        Team: Andrew Gardner, Jovan Fernandez, Umar Farooq, Elliot Cecere
      </p>
      <p style="margin-top: 1rem">
        <button
          id="tosBtn"
          style="
            background: none;
            border: none;
            color: #ffb800;
            cursor: pointer;
            text-decoration: underline;
            font-size: 0.8rem;
          "
        >
          Terms of Service
        </button>
      </p>
    </footer>

    <!-- Terms of Service Modal -->
    <div
      id="tosModal"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 2000;
        overflow-y: auto;
      "
    >
      <div
        style="
          background: #0a0a0a;
          color: #ffffff;
          max-width: 900px;
          margin: 2rem auto;
          padding: 2rem;
          border: 4px solid #ffffff;
          max-height: 80vh;
          overflow-y: auto;
        "
      >
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            border-bottom: 3px solid #ffffff;
            padding-bottom: 1rem;
          "
        >
          <h2
            style="
              margin: 0;
              font-family: 'Space Grotesk', sans-serif;
              text-transform: uppercase;
            "
          >
            Terms of Service
          </h2>
          <button
            id="closeTosBtn"
            style="
              background: none;
              border: none;
              color: #ffffff;
              font-size: 2rem;
              cursor: pointer;
              padding: 0;
              width: 2rem;
              height: 2rem;
              display: flex;
              align-items: center;
              justify-content: center;
            "
          >
            ×
          </button>
        </div>
        <div
          id="tosContent"
          style="
            font-family: 'Inter', sans-serif;
            line-height: 1.8;
            font-size: 0.95rem;
          "
        ></div>
      </div>
    </div>

    <script src="assets/js/api-config.js"></script>
    <script src="assets/js/playground-data.js"></script>
    <script src="assets/js/playground.js"></script>
    <script src="assets/js/tos-modal.js"></script>
    <script src="assets/js/auth.js"></script>
    <script>
      const paywallModal = document.getElementById("paywallModal");
      const closePaywallBtn = document.getElementById("closePaywallBtn");
      const upgradeBtn = document.getElementById("upgradeBtn");

      function checkPaywall() {
        const user = getCurrentUser();
        return user && (user.plan === "plus" || user.plan === "premium");
      }

      function showPaywall() {
        paywallModal.style.display = "flex";
      }

      const notesField = document.getElementById("notes");
      const subjectField = document.getElementById("subject");

      if (checkPaywall()) {
        notesField.removeAttribute("readonly");
      }

      closePaywallBtn.addEventListener("click", () => {
        paywallModal.style.display = "none";
      });

      upgradeBtn.addEventListener("click", () => {
        window.location.href = "signup.html?plan=plus";
      });

      notesField.addEventListener("focus", () => {
        if (!checkPaywall()) {
          notesField.blur();
          showPaywall();
        }
      });

      subjectField.addEventListener("mousedown", (e) => {
        if (!checkPaywall()) {
          e.preventDefault();
          showPaywall();
        }
      });

      document.getElementById("accountLink").addEventListener("click", (e) => {
        e.preventDefault();
        if (isLoggedIn()) {
          window.location.href = "account.html";
        } else {
          window.location.href = "signin.html";
        }
      });
    </script>
  </body>
</html>
